<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson3 - jQuery</title>

    <style>
        .even,
        .even a{
            color: violet;
        }

        .odd,
        .odd a{
            color: green;
        }
    </style>

    <script src="jquery.js"></script>
    <script>
        $(document).ready(function (){

            // Перемещение по DOM

            let p1 = $('.p1');
            //console.log(p1);

            //Следующий элемент.
            let p2 = p1.next();
            console.log(p2.text());

            //Предыдущий элемент
            let p1_1 = p2.prev();
            console.log(p1_1.text());

            //Все следующие элементы.
            let elNext = p1.nextAll();
            console.log(elNext);

            //Обход элементов выборки
            elNext.each(function (index, element){
                console.log(index);
                console.log(element);
            });

            // Все предыдущие элементы
            let ul = $('ul');
            let prevUl = ul.prevAll();
            $.each(prevUl, function (index, element){
                console.log(index);
                console.log(element);
            });

            //find - Уточняющая выборка

            let findEl = $('ul').find('li:first');
            console.log(findEl);
            console.log(findEl.html());

            //closest - идет по всем родителям и ищет элемент.
            let parentDiv = findEl.closest('#d1');
            console.log(parentDiv.html());

            //children
            let textDiv = parentDiv.children();
            console.log(textDiv.html());

            //parent
            let body = textDiv.parent().parent();
            console.log(body.html());

            //offsetParent - возвращает родительские элементы с
            // позиционированием отличным от static

            console.log('--------------------------');

            //parents - выбор всех родителей.
            let body2 = textDiv.parents();
            console.log(body2.html());
            console.log(body2);

            console.log('--------------------------');

            let body3 = textDiv.parents('body'); // ограничение выбора родителей.
            // Выбирает только указанного родителя.
            console.log(body3);

            //Выбираем нечетные элементы.
            //$('ul li:even').css('color', 'violet').children().css('color', 'violet');
            $('ul li:even').addClass('even');


            //Выбираем четные элементы.
            //$('ul li:odd').css('color', 'green').children().css('color', 'green');
            $('ul li:odd').addClass('odd');

            //Filter - сужение выборки

            //$('p').filter('.p1').css('background','lime');
            $('p').filter('#p3').css('background','lime');

            //map - получение нового массива по условиям своей функции.
            let cl = $('p').map(function (index, element){
                return $(element).attr('class'); // Получение всех классов
                //return $(element).addClass('newClass'); // Получили новые элементы с новым классом.
            });

            console.log(cl);

            //Add - добавляет в существующую выборку новый элемент.

            $('.p1').css('color','yellow').add('.p3').css('font-size', '16pt');

            //Remove - удаление
            $('.p1').remove(); // Полностью удаляет со страницы.
            $('ul').hide(2000); // скрытие элемента за 2 сек.
            $('ul').show(2000); // показать элемент за 2 сек.

            //Добавление содержимого.
            //html, text
            $('.container').text('It is a new text');
            $('.container').html('<b>It is a new HTML</b>');

        });
    </script>

</head>
<body>
    <p class="p1">Paragraph 1</p>
    <p>Paragraph 2</p>
    <p id="p3" class="p3">Paragraph 3</p>
    <div id="d1">
        <div>Text DIV</div>
        <ul>
            <li><a href="#0">Link 1</a></li>
            <li><a href="#1">Link 2</a></li>
            <li><a href="#2">Link 3</a></li>
            <li><a href="#3">Link 4</a></li>
            <li><a href="#4">Link 5</a></li>
        </ul>
        <div class="container"></div>
    </div>
</body>
</html>